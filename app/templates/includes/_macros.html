{% macro carousel()%} <!-- 轮播 -->
   <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
       <ol class="carousel-indicators">
             <!-- 指示器 -->
           <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
           <li data-target="#carousel-example-generic" data-slide-to="1"></li>
           <li data-target="#carousel-example-generic" data-slide-to="2"></li>
           <li data-target="#carousel-example-generic" data-slide-to="3"></li>
       </ol>
       <!-- 包装的轮播图片-->
       <div class="carousel-inner" role="listbox">
           <!--图片-->
           <div class="item active">
               <img src="../../static/img/11.jpg" alt="风景1">
               <div class="carousel-caption">
                   <!--h4中的内容显示到图片上面，-->
                   <h4>真正的才智是刚毅的志向。 —— 拿破仑</h4>
               </div>
           </div>
           <div class="item">
               <img src="../../static/img/111.jpg" alt="风景2">
               <div class="carousel-caption">
                   <h4>志向不过是记忆的奴隶，生气勃勃地降生，但却很难成长。 —— 莎士比亚</h4>
               </div>
           </div>
           <div class="item">
               <img src="../../static/img/1111.jpg" alt="风景3">
               <div class="carousel-caption">
                   <h4>志向和热爱是伟大行为的双翼。 —— 歌德</h4>
               </div>
           </div>
           <div class="item">
               <img src="../../static/img/11111.jpg" alt="风景4">
               <div class="carousel-caption">
                   <h4>生活有度，人生添寿。 —— 书摘</h4>
               </div>
           </div>
       </div>
       <!-- Controls -->
       <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
           <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
           <span class="sr-only">Previous</span>
       </a>
       <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
           <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
           <span class="sr-only">Next</span>
       </a>
   </div>
{% endmacro %}

{% macro show_posts(posts, categorys, pagination, moment) %}
{% from "bootstrap/pagination.html" import render_pagination %}

<div class="container">
  <div class="row">
    <div class="col-md-9">
      {% for post in posts | sort(attribute='create_time', reverse=True) %}
      <div class="share mrl the-font">
        <div style="padding:10px;">
          <div style="border-bottom:0px solid #DAD4D4;padding:10px 10px;background-color:#FFF;box-shadow:5px 5px 20px #CCC;">
            <h2><a href="{{ url_for('main.post', id=post.id) }}">{{post.title}}</a></h2>
            <!-- author.name & post.create_time -->
            <div class="profile-thumbnail">
              <div class = "post-author">
                <small><span class="glyphicon glyphicon-user" aria-hedden="true"></span>
                  <a href="{{url_for('.user', name=post.author.name) }}"> {{ post.author.name }}</a>
                </small>
                &nbsp &nbsp
                <small><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
                  <!-- {{ post.create_time }} -->
                  {{ moment(post.create_time).fromNow(refresh=True) }}
                </small>
              </div>
            </div>
            <!-- tag & readmore -->
            <div>
              <p>{{post.body_html|safe|truncate(500,True)}}</p>
            </div>
            <hr />

            <p> {% for category in post.categorys %}
              <!-- <a href="{{ url_for('main.category', name = post.categorys.name) }}"> -->
                <a href="{{ url_for('main.category', name = category.name) }}">
                  <span class="label label-primary text-left"> <span class="glyphicon glyphicon-tag" aria-hidden="true">
                </span> {{category.name|upper}}</span></a>
                {% endfor %}

              {% if current_user.is_administrator() %}
              <a href="{{ url_for('main.deletepost', id=post.id) }}" style="float:right">
                <button class="btn  btn-sm btn-default btn-text-right">
                  <span class="glyphicon glyphicon-leaf" aria-hidden="true"> </span> Delete </button></a>

              <a href="{{ url_for('main.edit', id=post.id) }}" style="float:right">
                <button class="btn  btn-sm btn-default btn-text-right">
                  <span class="glyphicon glyphicon-leaf" aria-hidden="true"> </span> Edit </button></a>
              {% endif %}

              <a href="{{ url_for('main.post', id=post.id) }}" style="float:right">
                  <button class="btn  btn-sm btn-primary btn-text-right"> <span class="glyphicon glyphicon-share-alt" aria-hidden="true">
                </span> read more</button></a>
            </p>
              </p>
            </div>
          </div>
        </div>
        {% endfor %}
        <!-- 分页导航栏 -->
        <div class="container-fluid">
          {% if pagination %}
          {{ render_pagination(pagination) }}
          {% endif %}
        </div>
      </div>
      {% endmacro%}

      {% macro show_sidebar(posts, categorys) %}
      <!-- sidebar右侧栏 -->
      <div class="col-md-3">
        <div class="share mrl the-font" style="margin-top:10px; background-color:#FFF;box-shadow:5px 5px 20px #CCC;width:260px;">
          <div style="padding:10px;">
            <div style="border-bottom:1px solid #DAD4D4;;padding:10px 10px;">
              <h5><span class="glyphicon glyphicon-leaf" aria-hidden="true">&nbsp</span>CATEGORY</h5>
            </div>
            <ul>
              {% for category in categorys %}
              <li class="presentation" style="padding-top:0px;">
                <a href="{{ url_for('main.category', name=category.name ) }}" >
                  <p><span style="font-size:15px;background-color:#FFF" class="glyphicon glyphicon-tags" aria-hidden="true"> {{ category.name|upper }}</span>
                    <!-- TODO -->
                    <span class="badge text-right" style="float:right"> {{ category.posts.all()|count}}</span>
                  </p>
                </a>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>

        <!-- picture -->
        <!-- <div class="tile" style="margin-top:40px;box-shadow:5px 5px 20px #CCC;background-color:#FFF"> -->
          <!-- <div style="border:5px solid #FFF;border-radius:300px;width:128px;height:128px;margin:0px auto;position:relative;bakeground:#88ACDB none repeat scroll 0% 0%;overflow:hidden"> -->
            <!-- <img src="{{ url_for('static',filename='pic/11.jpg') }}" style="width:100%;height:100%"> -->
            <!-- </div> -->
          <!-- </div> -->

        <!-- [> github page <] https://github.com/lepture/github-cards -->
        <div class="tile" style="margin-top:40px;box-shadow:5px 5px 20px #CCC; background-color:#FFF">
          <div class="github-card" data-github="M-Kepler" data-theme="medium"> </div>
          <script src="//cdn.jsdelivr.net/github-cards/latest/widget.js"></script>
          <script src="//cdn.jsdelivr.net/github-cards/1.0.2/carts/default/widget.js"></script>
        </div>

        <!-- github widget -->
        <!-- <div class="tile" style="margin-top:40px;box-shadow:5px 5px 20px #CCC; background-color:#FFF"> -->
          <!-- <div class="github-widget" data-username="M-Kepler"></div> -->
          <!-- <script src="https://unpkg.com/github-card@1.2.1/dist/widget.js"></script> -->
        <!-- </div> -->
        {% endmacro%}

